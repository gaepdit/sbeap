@page
@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Sbeap.Domain.ValueObjects
@using Sbeap.WebApp.Platform.Constants
@model AddModel
@{
    ViewData["Title"] = "Add A New Customer";
    ViewData["NoAnchors"] = true;
    var phoneTypesSelectList = Html.GetEnumSelectList<PhoneType>().ToArray();
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="~/js/copyAddress.js"></script>

}

<h1>@ViewData["Title"]</h1>

<div class="p-3 border rounded-3 bg-light">
<form method="post">
<div asp-validation-summary="All" class="alert alert-danger" role="alert"></div>

<div class="mb-1">
    <h2 class="visually-hidden">Customer Details</h2>

    <div class="row">
        <div class="col-md-6 col-lg-4">
            <div class="form-floating mb-3">
                <input asp-for="Item.Name" class="form-control" />
                <label asp-for="Item.Name" class="form-label"></label>
                <span asp-validation-for="Item.Name" class="invalid-feedback"></span>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="form-floating mb-3">
                <select asp-for="Item.County" asp-items="Model.CountiesSelectList" class="form-select">
                    <option value="">@TextConstants.SelectTextEmpty</option>
                </select>
                <label asp-for="Item.County" class="form-label"></label>
                <span asp-validation-for="Item.County" class="invalid-feedback"></span>
            </div>
        </div>
        <div class="col-md-12 col-lg-4">
            <div class="form-floating mb-3">
                <input asp-for="Item.Website" class="form-control" />
                <label asp-for="Item.Website" class="form-label"></label>
                <span asp-validation-for="Item.Website" class="invalid-feedback"></span>
            </div>
        </div>
    </div>

    <div class="form-floating mb-3">
        <textarea asp-for="Item.Description" class="form-control"></textarea>
        <label asp-for="Item.Description" class="form-label"></label>
        <span asp-validation-for="Item.Description" class="invalid-feedback"></span>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-3">
        <h3 class="h5">Site Location <small class="text-muted">(optional)</small></h3>

        <div class="form-floating mb-3">
            <input asp-for="Item.Location.Street" class="form-control" />
            <label asp-for="Item.Location.Street" class="form-label"></label>
            <span asp-validation-for="Item.Location.Street" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.Location.Street2" class="form-control" />
            <label asp-for="Item.Location.Street2" class="form-label"></label>
            <span asp-validation-for="Item.Location.Street2" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.Location.City" class="form-control" />
            <label asp-for="Item.Location.City" class="form-label"></label>
            <span asp-validation-for="Item.Location.City" class="invalid-feedback"></span>
        </div>
        <div class="input-group">
            <div class="form-floating">
                <select asp-for="Item.Location.State" asp-items="Model.StatesSelectList" class="form-select">
                    <option value="">@TextConstants.SelectTextEmpty</option>
                </select>
                <label asp-for="Item.Location.State" class="form-label"></label>
                <span asp-validation-for="Item.Location.State" class="invalid-feedback"></span>
            </div>
            <div class="form-floating">
                <input asp-for="Item.Location.PostalCode" class="form-control" />
                <label asp-for="Item.Location.PostalCode" class="form-label"></label>
                <span asp-validation-for="Item.Location.PostalCode" class="invalid-feedback"></span>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-3">
        <div class="row justify-content-between align-items-baseline g-0 mb-2">
            <h3 class="h5 col-md mb-md-0">
                Site Mailing Address <small class="text-muted me-1">(optional)</small>
            </h3>
            <div class="col-md-auto d-print-none ms-md-3">
                <button id="copy-site-location" type="button" class="btn btn-outline-info btn-sm my-1">Copy From Location</button>
            </div>
        </div>

        <div class="form-floating mb-3">
            <input asp-for="Item.MailingAddress.Street" class="form-control" />
            <label asp-for="Item.MailingAddress.Street" class="form-label"></label>
            <span asp-validation-for="Item.MailingAddress.Street" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.MailingAddress.Street2" class="form-control" />
            <label asp-for="Item.MailingAddress.Street2" class="form-label"></label>
            <span asp-validation-for="Item.MailingAddress.Street2" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.MailingAddress.City" class="form-control" />
            <label asp-for="Item.MailingAddress.City" class="form-label"></label>
            <span asp-validation-for="Item.MailingAddress.City" class="invalid-feedback"></span>
        </div>
        <div class="input-group">
            <div class="form-floating">
                <select asp-for="Item.MailingAddress.State" asp-items="Model.StatesSelectList" class="form-select">
                    <option value="">@TextConstants.SelectTextEmpty</option>
                </select>
                <label asp-for="Item.MailingAddress.State" class="form-label"></label>
                <span asp-validation-for="Item.MailingAddress.State" class="invalid-feedback"></span>
            </div>
            <div class="form-floating">
                <input asp-for="Item.MailingAddress.PostalCode" class="form-control" />
                <label asp-for="Item.MailingAddress.PostalCode" class="form-label"></label>
                <span asp-validation-for="Item.MailingAddress.PostalCode" class="invalid-feedback"></span>
            </div>
        </div>
    </div>
</div>

<div class="row mt-2">
    <h2>Contact <small class="text-muted">(optional)</small></h2>
    <p class="form-text">At least a name or title must be entered in order to create a contact.</p>

    <div class="col-md-6">
        <h3 class="h5 d-none d-md-block">Personal Info</h3>
        <div class="input-group mb-3">
            <div class="form-floating">
                <input asp-for="Item.Contact.Honorific" class="form-control" />
                <label asp-for="Item.Contact.Honorific" class="form-label"></label>
                <span asp-validation-for="Item.Contact.Honorific" class="invalid-feedback"></span>
            </div>
            <div class="form-floating">
                <input asp-for="Item.Contact.GivenName" class="form-control" />
                <label asp-for="Item.Contact.GivenName" class="form-label"></label>
                <span asp-validation-for="Item.Contact.GivenName" class="invalid-feedback"></span>
            </div>
            <div class="form-floating">
                <input asp-for="Item.Contact.FamilyName" class="form-control" />
                <label asp-for="Item.Contact.FamilyName" class="form-label"></label>
                <span asp-validation-for="Item.Contact.FamilyName" class="invalid-feedback"></span>
            </div>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.Contact.Title" class="form-control" />
            <label asp-for="Item.Contact.Title" class="form-label"></label>
            <span asp-validation-for="Item.Contact.Title" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.Contact.Email" class="form-control" />
            <label asp-for="Item.Contact.Email" class="form-label"></label>
            <span asp-validation-for="Item.Contact.Email" class="invalid-feedback"></span>
        </div>
        <div class="input-group mb-3">
            <div class="form-floating">
                <input asp-for="Item.Contact.PhoneNumber.Number" class="form-control" />
                <label asp-for="Item.Contact.PhoneNumber.Number" class="form-label"></label>
                <span asp-validation-for="Item.Contact.PhoneNumber.Number" class="invalid-feedback"></span>
            </div>
            <div class="form-floating">
                <select asp-for="Item.Contact.PhoneNumber.Type" asp-items="phoneTypesSelectList" class="form-select">
                    <option value="">@TextConstants.SelectTextEmpty</option>
                </select>
                <label asp-for="Item.Contact.PhoneNumber.Type" class="form-label"></label>
                <span asp-validation-for="Item.Contact.PhoneNumber.Type" class="invalid-feedback"></span>
            </div>
        </div>
        <div class="form-floating mb-3">
            <textarea asp-for="Item.Contact.Notes" class="form-control"></textarea>
            <label asp-for="Item.Contact.Notes" class="form-label"></label>
            <span asp-validation-for="Item.Contact.Notes" class="invalid-feedback"></span>
        </div>
    </div>

    <div class="col-md-6">
        <div class="row justify-content-between align-items-baseline g-0 mb-2">
            <h3 class="h5 col-md mb-md-0">
                Mailing Address <small class="text-muted me-1">(optional)</small>
            </h3>
            <div class="col-md-auto d-print-none ms-md-3">
                <button id="copy-site-address" type="button" class="btn btn-outline-info btn-sm my-1">Copy From Site</button>
            </div>
        </div>

        <div class="form-floating mb-3">
            <input asp-for="Item.Contact.Address.Street" class="form-control" />
            <label asp-for="Item.Contact.Address.Street" class="form-label"></label>
            <span asp-validation-for="Item.Contact.Address.Street" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.Contact.Address.Street2" class="form-control" />
            <label asp-for="Item.Contact.Address.Street2" class="form-label"></label>
            <span asp-validation-for="Item.Contact.Address.Street2" class="invalid-feedback"></span>
        </div>
        <div class="form-floating mb-3">
            <input asp-for="Item.Contact.Address.City" class="form-control" />
            <label asp-for="Item.Contact.Address.City" class="form-label"></label>
            <span asp-validation-for="Item.Contact.Address.City" class="invalid-feedback"></span>
        </div>
        <div class="input-group mb-3">
            <div class="form-floating">
                <select asp-for="Item.Contact.Address.State" asp-items="Model.StatesSelectList" class="form-select">
                    <option value="">@TextConstants.SelectTextEmpty</option>
                </select>
                <label asp-for="Item.Contact.Address.State" class="form-label"></label>
                <span asp-validation-for="Item.Contact.Address.State" class="invalid-feedback"></span>
            </div>
            <div class="form-floating">
                <input asp-for="Item.Contact.Address.PostalCode" class="form-control" />
                <label asp-for="Item.Contact.Address.PostalCode" class="form-label"></label>
                <span asp-validation-for="Item.Contact.Address.PostalCode" class="invalid-feedback"></span>
            </div>
        </div>
    </div>
</div>

<div class="mt-3 mb-1">
    <button id="SubmitButton" type="submit" class="btn btn-primary col-md-4 me-2">Add New Customer</button>
    <a asp-page="Index" class="btn btn-outline-secondary col-md-2">Cancel</a>
</div>
<div class="text-danger mt-3">* denotes a required field</div>
</form>
</div>
